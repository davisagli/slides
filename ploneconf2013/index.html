<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Beyond the Sharing Tab: Modeling Teams of People in Plone</title><meta name="generator" content="Hovercraft! 1.0 http://regebro.github.com/hovercraft"></meta><link rel="stylesheet" href="css/hovercraft.css" media="all"></link><link rel="stylesheet" href="css/impressConsole.css" media="all"></link><link rel="stylesheet" href="css/highlight.css" media="all"></link><link rel="stylesheet" href="slideshow.css" media="screen,projection"></link></head><body class="impress-not-supported"><div id="impress" data-transition-duration="300"><div class="step" step="0" data-x="0" data-y="0"><h1 id="beyond-the-sharing-tab">Beyond the Sharing Tab</h1><h2 id="modeling-teams-of-people-in-plone">Modeling Teams of People in Plone</h2><div class="line-block"><br></br></div><h2 id="david-glick">David Glick</h2><h3 id="plone-conference-2013">Plone Conference 2013</h3></div><div class="step" step="1" data-x="1600" data-y="0"><img src="venn.png" alt="" width="" height=""></img><div class="notes"><blockquote><ul><li>Plone's a jack of all trades. Good at lots of kinds of sites.</li><li>Tagline: content, collaboration, community</li></ul></blockquote><p>Block quote ends without a blank line; unexpected unindent.</p><ul><li>another way of categorizing web projects, by audience</li><li>public website -&gt; anonymous users</li><li>intranet -&gt; priviled users / staff</li><li>member services -&gt; providing tools for identified, non-privileged users</li><li>Plone can build a site that does all of these</li></ul></div></div><div class="step" step="2" data-x="3200" data-y="0"><h1 id="authentication">Authentication:</h1><h2 id="who-are-the-users">Who are the users?</h2><div class="notes"><ul><li>external vs internal member db</li></ul></div></div><div class="step" step="3" data-x="4800" data-y="0"><h1 id="external-member-database">External member database</h1><dl><dt>LDAP</dt><dd><p>plone.app.ldap</p></dd><dt>SQL</dt><dd><p>pas.plugins.sqlalchemy</p></dd><dt>Google, Facebook, Twitter, etc.</dt><dd><p>plonesocial.auth.rpx</p></dd><dt>from web server</dt><dd><p>Products.WebServerAuth</p></dd></dl><div class="notes"><dl><dt>Pros:</dt><dd><ul><li>Integration with existing user db.</li><li>Store properties externally or in Plone</li></ul></dd><dt>Cons:</dt><dd><ul><li>Takes some care to avoid performance problems</li><li>Missing the full benefits of in-Plone content:
forms, workflow, searching</li></ul></dd></dl></div></div><div class="step" step="4" data-x="6400" data-y="0"><h1 id="external-pas-plugins">External PAS Plugins</h1><h2 id="common-culprits-for-performance-problems">Common culprits for performance problems</h2><ul><li>bad enumerateUsers implementation</li><li>need to turn on "many users" / "many groups"</li></ul><div class="notes"><ul><li>If the backend doesn't support searching by email or fullname,
make sure enumerateUsers will ignore queries using those fields</li><li>Many users &amp; groups settings prevent the users control panel
from trying to list users before you search.</li></ul></div></div><div class="step" step="5" data-x="8000" data-y="0"><h1 id="in-plone-member-database">In-Plone member database</h1><ul><li>Standard Plone users</li><li>dexterity.membrane</li></ul><div class="notes"><blockquote><p>standard:</p><ul><li>pretty lightweight, BTree for auth, another for properties</li><li>developer can customize, but is hard to figure out</li></ul><p>dexterity.membrane</p><ul><li>lets a Dexterity content type act as a member
as long as it has a few key fields</li></ul></blockquote><p>Pros:</p><ul><li>everything in one place</li><li>all the features of Plone content</li></ul><p>Cons:</p><ul><li>lack of integration</li><li>d.m can bloat your site if you have a lot of users</li></ul></div></div><div class="step" step="6" data-x="9600" data-y="0"><h1 id="the-membrane-catalog">The membrane catalog</h1><div class="notes"><ul><li>There is a problem with dexterity.membrane that can be solved.</li><li>Second catalog duplicates indexes, slows edits.</li><li>I'd really like to see something that provided a similar
interface to membrane, but used the main catalog.</li></ul></div></div><div class="step" step="7" data-x="11200" data-y="0"><h1 id="member-directory">Member directory</h1><img src="faceted_nav.png" alt="" width="" height=""></img></div><div class="step" step="8" data-x="12800" data-y="0"><h1 id="authorization">Authorization:</h1><h2 id="what-can-the-users-do">What can the users do?</h2></div><div class="step" step="9" data-x="14400" data-y="0"><h1 id="the-member-role">The Member role</h1><p>By default:</p><ul><li>Granted to all users</li><li>Doesn't grant many permissions</li></ul><div class="notes"><ul><li>As a result, it's not terribly useful out of the box.</li></ul></div></div><div class="step" step="10" data-x="16000" data-y="0"><h1 id="the-intranet-workflow">The intranet workflow</h1><img src="intranet_workflow.jpg" alt="" width="1024px" height=""></img><div class="notes"><ul><li>Like standard workflow, but allows publishing internally
(to users with the Member role) or externally.</li><li>May want to change initial state to 'private'.</li></ul></div></div><div class="step" step="11" data-x="17600" data-y="0"><h1 id="member-levels">Member levels</h1><p>i.e. trial, free member, premium member, lifetime member</p><ol><li>Protect UI elements with permissions</li><li>Assign permissions to roles (i.e. Anonymous, Member, PremiumMember)</li><li>Grant those roles to the right users</li></ol><div class="notes"><ul><li>This approach makes it really easy to change who has access
when the client asks for it.</li><li>Will cover how to grant the roles in a minute...</li></ul></div></div><div class="step" step="12" data-x="19200" data-y="0"><h1 id="ui-for-member-levels">UI for member levels</h1><ul><li>Select your member level</li><li>Pay for membership</li><li>Renewal</li><li>Upgrade/downgrade level</li></ul><div class="notes"><ul><li>Using multiple member levels implies a bunch of UI that Plone
doesn't have out of the box.</li><li>Also custom business logic (i.e. what happens when downgrading)</li></ul></div></div><div class="step" step="13" data-x="20800" data-y="0"><img src="choose_level.png" alt="" width="" height=""></img></div><div class="step" step="14" data-x="22400" data-y="0"><h1 id="member-states">Member states</h1><ul><li>Pending</li><li>Active</li><li>Grace Period</li><li>Lapsed</li></ul><div class="notes"><ul><li>Can be modeled with workflow</li><li>Then need a cron job to update state each day</li><li>Or can grant automatically...</li></ul></div></div><div class="step" step="15" data-x="24000" data-y="0"><h1 id="granting-site-wide-roles">Granting site-wide roles</h1><ul><li>Manually with the Users/Groups control panel</li><li>Automatically with membrane adapters (dexterity.membrane)</li><li>Automatically with custom PAS plugin</li></ul></div><div class="step" step="16" data-x="25600" data-y="0"><h1 id="what-about-placeful-access-control">What about "placeful" access control?</h1><p>Use cases:</p><ul><li>Private area for a committee</li><li>Private area for participants in a course or activity</li><li>Paid download of content</li></ul><div class="notes"><ul><li>Has been solved in many different ways over the years.
Teamspace, borg.project, etc.</li></ul></div></div><div class="step" step="17" data-x="27200" data-y="0"><h1 id="the-classic-approach-sharing-with-groups">The classic approach: Sharing with groups</h1><img src="sharing.png" alt="" width="" height=""></img><div class="notes"><ul><li>Plone lets you put users in groups.</li><li>The sharing tab lets you grant a role to a group in a particular location.</li></ul><p>So the recipe is:</p><ul><li>Leave something private (i.e. minimum access)</li><li>Grant the Reader role ("Can view") to a group of people</li><li>Edit the group via the Users/Groups control panel</li></ul><p>Cons:</p><ul><li>Doesn't provide a way to <em>delegate</em> control over the group
(because users must be admins to access the Groups control panel)</li><li>Requires setting things correctly in several different places</li><li>Too easy to accidentally publish</li></ul></div></div><div class="step" step="18" data-x="28800" data-y="0"><h1 id="collective-local">collective.local.*</h1><img src="local.png" alt="" width="" height=""></img><div class="notes"><ul><li>collective.local.adduser and collective.local.addgroup</li><li>They solve the delegation problem by adding to the sharing tab UI</li></ul><p>Still some things missing:</p><ul><li>Storing metadata about someone's association with a content item.</li><li>Looking up which content items a person is associated with.</li></ul></div></div><div class="step" step="19" data-x="30400" data-y="0"><h1 id="collective-workspace">collective.workspace</h1><img src="roster.png" alt="" width="" height=""></img><div class="notes"><ul><li>I've been developing a new add-on to help with this use case: collective.workspace</li><li>Behavior that can enable a Roster tab for any Dexterity content type</li></ul></div></div><div class="step" step="20" data-x="32000" data-y="0"><h1 id="id1">collective.workspace</h1><img src="workspace_edit.png" alt="" width="" height=""></img><div class="notes"><ul><li>Can edit each roster membership.</li></ul></div></div><div class="step" step="21" data-x="33600" data-y="0"><h1 id="id2">collective.workspace</h1><img src="workspace_sharing.png" alt="" width="" height=""></img><div class="notes"><ul><li>Automatically creates a member and admin group for each roster-enabled item.</li><li>Shows up on sharing tab, but is not editable. Doesn't show up in site control panel.</li><li>Other features:</li><li>Can be extended with more groups, custom fields</li><li>Indexes roster members so you can look up where a user is a member.</li></ul></div></div><div class="step" step="22" data-x="35200" data-y="0"><h1 id="collective-workspace-todo">collective.workspace TODO</h1><ul><li>ALPHA alert!</li><li>Easier configuration</li><li>More features?</li><li>Feedback welcome</li></ul><div class="notes"><ul><li>Needs tests, docs, release</li><li>Configuring is currently a developer task, not a control panel</li><li>Possible features: invitations, workflow policy</li></ul></div></div><div class="step" step="23" data-x="36800" data-y="0"><h1 id="what-if-the-user-is-logged-in-but-doesn-t-have-access">What if the user is logged in but doesn't have access?</h1><div class="notes"><ul><li>Standard Plone: "Insufficient privileges"</li><li>Upsell: Show the user info about what they were trying to access,
why they can't, and what they have to do to get there.</li><li>Registration upsell:
Make registration more obvious on the login form!</li><li>Unfortunately, these are a bit tricky to implement currently.</li></ul></div></div><div class="step" step="24" data-x="38400" data-y="0"><h1 id="enhanced-user-profile">Enhanced user profile</h1><ul><li>Show on login</li><li>Multiple pages?</li><li>Summarize activity</li><li>Contact info</li><li>Manage subscriptions</li><li>Privacy settings</li></ul></div><div class="step" step="25" data-x="40000" data-y="0"><h1 id="special-notices">Special notices</h1><ul><li>Renewal alerts</li><li>Promos</li></ul></div><div class="step" step="26" data-x="41600" data-y="0"><h1 id="hiding-the-edit-bar">Hiding the edit bar</h1><div class="notes"><ul><li>Sometimes it's necessary to make the Plone UI less confusing
for users who haven't been trained in Plone.</li><li>Can customize the actions viewlet and add a permission check.</li></ul></div></div><div class="step" step="27" data-x="43200" data-y="0"><h1 id="caching">Caching</h1><ul><li>Serve authenticated traffic on a different domain, if possible.</li><li>Consider varying on role rather than user</li></ul><div class="notes"><ul><li>Describe split-view problem</li><li>Serve traffic on a different domain, if possible</li><li><dl><dt>Changing to vary by role:</dt><dd><ul><li>remove user-specific content</li><li>or load separately (js or esi)</li></ul></dd></dl></li></ul></div></div><div class="step" step="28" data-x="44800" data-y="0"><h1 id="where-is-the-integrated-product">Where is the integrated product?</h1><div class="notes"><ul><li>There's a gap in the Plone add-on ecosystem;
we need one that handles these use cases.</li><li>Good UI for both users and admins.</li></ul></div></div><div class="step" step="29" data-x="46400" data-y="0"><h1 id="questions">Questions?</h1><dl><dt>Email</dt><dd><p><a href="mailto:david@glicksoftware.com">david@glicksoftware.com</a></p></dd><dt>IRC</dt><dd><p>davisagli</p></dd></dl></div></div><div id="hovercraft-help"><table><tr><th>Space</th><td>Forward</td></tr><tr><th>Left, Down, Page Down</th><td>Next slide</td></tr><tr><th>Right, Up, Page Up</th><td>Previous slide</td></tr><tr><th>P</th><td>Open presenter console</td></tr><tr><th>H</th><td>Toggle this help</td></tr></table></div><script type="text/javascript" src="js/impress.js"></script><script type="text/javascript" src="js/impressConsole.js"></script><script type="text/javascript" src="js/hovercraft.js"></script></body></html>